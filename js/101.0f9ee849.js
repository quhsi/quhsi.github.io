"use strict";(globalThis["webpackChunkastral"]=globalThis["webpackChunkastral"]||[]).push([[101],{98101:(e,t,o)=>{o.r(t),o.d(t,{default:()=>R});o(40702);var n=o(59835),l=o(86970);const s=e=>((0,n.dD)("data-v-248eb274"),e=e(),(0,n.Cn)(),e),r={class:"q-py-md q-px-sm"},a=s((()=>(0,n._)("div",null," - or - ",-1))),i={class:"flex row no-wrap full-width",style:{gap:"1rem"}};function d(e,t,o,s,d,u){const c=(0,n.up)("BaseHeader"),m=(0,n.up)("q-tab"),h=(0,n.up)("q-tabs"),p=(0,n.up)("BaseButtonCopy"),y=(0,n.up)("q-input"),b=(0,n.up)("q-btn"),x=(0,n.up)("q-tab-panel"),k=(0,n.up)("TheSqlEditor"),w=(0,n.up)("q-tab-panels"),g=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("devTools")),1)])),_:1}),(0,n._)("div",r,[(0,n.Wm)(h,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),dense:"",outline:"",align:"left","active-color":"accent"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:"keyConverter",label:"key converter"}),(0,n.Wm)(m,{name:"sqlQuery",label:"sql query"})])),_:1},8,["modelValue"]),(0,n.Wm)(w,{modelValue:e.tab,"onUpdate:modelValue":t[4]||(t[4]=t=>e.tab=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{name:"keyConverter",class:"flex column items-center full-width",style:{gap:".5rem",background:"var(--q-background)"}},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:e.keys.bech32,"onUpdate:modelValue":t[1]||(t[1]=t=>e.keys.bech32=t),filled:"",dense:"",label:'enter "npub", "note" key here',class:"full-width"},{append:(0,n.w5)((()=>[(0,n.Wm)(p,{color:"secondary","button-text":e.keys.bech32},null,8,["button-text"])])),_:1},8,["modelValue"]),a,(0,n._)("div",i,[(0,n.Wm)(y,{modelValue:e.keys.prefix,"onUpdate:modelValue":t[2]||(t[2]=t=>e.keys.prefix=t),filled:"",dense:"",label:"prefix",style:{width:"10rem"}},null,8,["modelValue"]),(0,n.Wm)(y,{modelValue:e.keys.hex,"onUpdate:modelValue":t[3]||(t[3]=t=>e.keys.hex=t),filled:"",dense:"",label:"enter hex key here",class:"full-width"},{append:(0,n.w5)((()=>[(0,n.Wm)(p,{color:"secondary","button-text":e.keys.hex},null,8,["button-text"])])),_:1},8,["modelValue"])]),(0,n.Wm)(b,{spread:"",label:"convert",color:"primary",outline:"",class:"full-width q-mt-md",onClick:e.convertKeys},null,8,["onClick"])])),_:1}),(0,n.Wm)(x,{name:"sqlQuery"},{default:(0,n.w5)((()=>[(0,n.Wm)(k)])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var u=o(18933),c=o(6827),m=o(31020),h=o(45032),p=o(61957);const y=e=>((0,n.dD)("data-v-013ab4a3"),e=e(),(0,n.Cn)(),e),b={style:{display:"flex","flex-direction":"row",gap:"1rem",padding:".5rem 0","align-items":"center"}},x=(0,n.Uk)("Execute"),k=y((()=>(0,n._)("div",{id:"error",class:"error"},null,-1))),w=y((()=>(0,n._)("pre",{id:"output"},"Results will be displayed here",-1)));function g(e,t,o,l,s,r){const a=(0,n.up)("q-btn"),i=(0,n.up)("q-table");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.sql=t),id:"editor"},null,512),[[p.nr,e.sql]]),(0,n._)("div",b,[(0,n.Wm)(a,{id:"execute",color:"primary",outline:"",onClick:e.execEditorContents},{default:(0,n.w5)((()=>[x])),_:1},8,["onClick"])]),k,e.rows.length?((0,n.wg)(),(0,n.j4)(i,{key:0,rows:e.rows,dense:"","wrap-cells":"","rows-per-page-options":[10,50,100,0]},null,8,["rows"])):(0,n.kq)("",!0),w])}o(18964);var v=o(34136),f=o(13555),q=o.n(f);o(50053);const E=(0,n.aZ)({name:"TheSqlEditor",mixins:[u.Z],components:{},data(){return{codeEditor:null,tictime:null,sql:"SELECT * FROM nostr_events;\n-- SELECT * FROM nostr_users;",rows:[],tab:"keyConverter",keys:{hex:"",bech32:""}}},computed:{editor(){return document.getElementById("editor")},commands(){return document.getElementById("commands")},executeButton(){return document.getElementById("execute")},output(){return document.getElementById("output")},error(){return document.getElementById("error")}},mounted(){this.codeEditor=q().fromTextArea(this.editor,{mode:"text/x-sql",theme:"dracula",viewportMargin:1/0,indentWithTabs:!0,smartIndent:!0,lineNumbers:!0,matchBrackets:!0,autofocus:!0,extraKeys:{"Ctrl-Enter":this.execEditorContents}})},activated(){},deactivated(){},methods:{execEditorContents(){console.log("sql",this.codeEditor.getValue()),this.noerror(),this.rows=[],this.execute(this.codeEditor.getValue()+";")},async execute(e){let t;this.tic(),this.output.textContent="Fetching results...",t=await(0,v.$d)(e),this.toc("Executing SQL"),this.tic(),this.output.innerHTML="",t&&t.length?(this.rows=t,this.toc("Displaying results")):this.print("0 rows returned")},print(e){this.output.innerHTML=e.replace(/\n/g,"<br>")},displayError(e){console.log(e),this.error.style.height="2em",this.error.textContent=e.message},noerror(){this.error.style.height="0"},tic(){this.tictime=Date.now()},toc(e){let t=Date.now()-this.tictime;console.log((e||"toc")+": "+t+"ms")}}});var C=o(11639),T=o(24455),_=o(64865),Z=o(47817),V=o(69984),B=o.n(V);const W=(0,C.Z)(E,[["render",g],["__scopeId","data-v-013ab4a3"]]),Q=W;B()(E,"components",{QBtn:T.Z,QTable:_.Z,QTabs:Z.Z});const I={title:"astral - dev tools",meta:{description:{name:"description",content:"dev tools for astral Nostr client"},keywords:{name:"keywords",content:"nostr decentralized social media"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}},U=(0,n.aZ)({name:"DevTools",mixins:[u.Z,(0,m.Z)(I)],components:{BaseButtonCopy:h.Z,TheSqlEditor:Q},data(){return{codeEditor:null,tictime:null,sql:"SELECT * FROM nostr_events;\n-- SELECT * FROM nostr_users;",rows:[],tab:"keyConverter",keys:{hex:"",bech32:"",prefix:""}}},methods:{convertKeys(){this.keys.bech32&&this.isBech32Key(this.keys.bech32)?this.keys.hex=this.bech32ToHex(this.keys.bech32):this.keys.hex&&this.isKey(this.keys.hex)?this.keys.bech32=this.hexToBech32(this.keys.hex,this.keys.prefix):c.Z.create({message:"invalid key entered",color:"negative"})}}});var S=o(69885),D=o(70900),L=o(89800),M=o(84106),F=o(66611);const K=(0,C.Z)(U,[["render",d],["__scopeId","data-v-248eb274"]]),R=K;B()(U,"components",{QPage:S.Z,QTabs:Z.Z,QTab:D.Z,QTabPanels:L.Z,QTabPanel:M.Z,QInput:F.Z,QBtn:T.Z})}}]);
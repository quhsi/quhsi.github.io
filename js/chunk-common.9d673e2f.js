(globalThis["webpackChunkastral"]=globalThis["webpackChunkastral"]||[]).push([[64],{14473:(e,t,l)=>{"use strict";l.d(t,{c:()=>a});l(40702);var o=l(26041);function n(e,t,...l){var a;null!==(a=l[l.length-1].replies)&&void 0!==a&&a.length?l[0].latest_created_at=l[l.length-1].replies.reduce(((e,t)=>Math.max(e,t[0].latest_created_at)),l[l.length-1].latest_created_at):l[0].latest_created_at=l[l.length-1].latest_created_at;let r=l[0],s=r.interpolated.replyEvents,i=[],u=[],d=[],h=[];for(let o=0;o<e.length;o++){let t=e[o],l=t[0],n=l.interpolated.replyEvents;if(0!==s.length){if((n[0]||t[0].id)===s[0]){if(s[0]===n[0]&&s[s.length-1]===n[n.length-1])continue;n.length&&n[n.length-1]===r.id&&i.push(o);let e=t[t.length-1];if(s[s.length-1]===e.id&&u.push(o),0===u.length){var c;let l=t.findIndex((e=>s[s.length-1]===e.id));l>=0?(d.push({thread:o,threadIndex:l}),"de575a697ccd730066cedf7783d2466b7f5ac723fbbdf56ad15d725642ad60bb"===r.id&&console.log("error search and update threads",r,t,s,{unshiftThreads:i,pushThreads:u,insertThreads:d,replyInsertThreads:h})):e.created_at<r.created_at&&null!==(c=e.replies)&&void 0!==c&&c.length&&h.push(o)}}}else n.length&&n[n.length-1]===r.id&&i.push(o)}if(0===i.length&&0===u.length&&0===d.length&&0===h.length)return!1;if(u.length>1||d.length>1||u.length&&d.length)return!1;if(i.length)if(1===i.length&&1===l.length){var p;let t=e[i[0]];t.unshift(r),null!==(p=t[t.length-1].replies)&&void 0!==p&&p.length?t[0].latest_created_at=t[t.length-1].replies.reduce(((e,t)=>Math.max(e,t[0].latest_created_at)),t[t.length-1].latest_created_at):t[0].latest_created_at=t[t.length-1].latest_created_at}else if(i.length>=1){l.length>1&&r.replies.push(l.slice(1));for(let t=i.length-1;t>=0;t--)r.replies.push(e[i[t]]),e.splice(i[t],1),u=u.map((e=>e>t?e-1:e)),d=d.map((({thread:e,threadIndex:l})=>e>t?{thread:e-1,threadIndex:l}:{thread:e,threadIndex:l})),h=h.map((e=>e>t?e-1:e));if(r.latest_created_at=r.replies.reduce(((e,t)=>Math.max(e,t[0].latest_created_at)),r.latest_created_at),l=[r],0===u.length&&0===d.length&&0===h.length)return(0,o.aR)(e,l,((e,t)=>e[0].latest_created_at<t[0].latest_created_at)),!0}if(u.length){var g;let t=e[u[0]];return null!==(g=t[t.length-1].replies)&&void 0!==g&&g.length?(1===i.length&&1===l.length?(t[t.length-1].replies.push(e[i[0]]),e.splice(i[0],1),d=d.map((({thread:e,threadIndex:t})=>e>i[0]?{thread:e-1,threadIndex:t}:{thread:e,threadIndex:t})),h=h.map((e=>e>i[0]?e-1:e))):t[t.length-1].replies.push(l),t[0].latest_created_at=t[t.length-1].replies.reduce(((e,t)=>Math.max(e,t[0].latest_created_at)),t[t.length-1].latest_created_at)):(1===i.length&&1===l.length?(t.push(...e[i[0]]),e.splice(i[0],1)):t.push(...l),t[0].latest_created_at=t[t.length-1].latest_created_at),!0}if(d.length){let t=e[d[0].thread],o=d[0].threadIndex;t[o].replies||(t[o].replies=[]);let n=t.slice(o+1);try{n[0].latest_created_at=n[n.length-1].latest_created_at}catch(y){let a=e.findIndex((e=>"ad18fea76c3e8e3486687815df99067c697e1969a7b7c7d9b4c1e263f4abdaef"===e[0].id));console.log("error search and update threads",y,n,t,o,l,a,e[a],{unshiftThreads:i,pushThreads:u,insertThreads:d,replyInsertThreads:h})}return t[o].replies.push(n),t.splice(o+1,t.length-o),1===i.length&&1===l.length?(t[o].replies.push(e[i[0]]),e.splice(i[0],1)):t[o].replies.push(l),t[0].latest_created_at=t[t.length-1].replies.reduce(((e,t)=>Math.max(e,t[0].latest_created_at)),t[t.length-1].latest_created_at),!0}if(h.length)for(let o in h){let a=e[h[o]];if(1===i.length&&1===l.length){let l=n(a[a.length-1].replies,t,...e[i[0]]);if(l)return e.splice(i[0],1),a[0].latest_created_at=a[a.length-1].replies.reduce(((e,t)=>Math.max(e,t[0].latest_created_at)),a[a.length-1].latest_created_at),!0}else{let e=n(a[a.length-1].replies,t,...l);if(e)return a[0].latest_created_at=a[a.length-1].replies.reduce(((e,t)=>Math.max(e,t[0].latest_created_at)),a[a.length-1].latest_created_at),!0}}return!!i.length}function a(e,t,l="",a){t.replies=[],t.latest_created_at=t.created_at,n(e,l,t)?a&&e.sort(((e,t)=>Number(t[0].latest_created_at)-Number(e[0].latest_created_at))):(0,o.aR)(e,[t],((e,t)=>e[0].latest_created_at<t[0].latest_created_at))}},46973:(e,t,l)=>{"use strict";l.d(t,{Z:()=>p});var o=l(59835),n=l(86970),a=l(61957);function r(e,t,l,r,s,i){const u=(0,o.up)("q-btn");return e.buttonText?((0,o.wg)(),(0,o.j4)(u,{key:0,unelevated:"",clickable:"",class:(0,n.C_)(["button-clear",""+e.buttonClass]),size:e.buttonSize,dense:"",icon:"cancel",onClick:t[0]||(t[0]=(0,a.iM)((t=>e.$emit("clear")),["stop"]))},null,8,["class","size"])):(0,o.kq)("",!0)}const s=(0,o.aZ)({name:"BaseButtonClear",emits:["clear"],props:{buttonText:{type:String,required:!0},buttonClass:{type:String,required:!1,default:""},buttonSize:{type:String,required:!1,default:"sm"}}});var i=l(11639),u=l(24455),d=l(69984),h=l.n(d);const c=(0,i.Z)(s,[["render",r]]),p=c;h()(s,"components",{QBtn:u.Z})},80626:(e,t,l)=>{"use strict";l.d(t,{Z:()=>y});var o=l(59835);const n={class:"row justify-center"};function a(e,t,l,a,r,s){const i=(0,o.up)("q-spinner-orbit"),u=(0,o.up)("q-btn"),d=(0,o.up)("q-btn-group");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(d,{spread:"",dense:"",outline:"",rounded:"","text-color":"accent"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{dense:"",loading:e.loadingMore,outline:"",rounded:"",color:"accent",class:"text-weight-light q-ma-sm",style:{"letter-spacing":".1rem"},label:e.reachedEnd?"reached end":e.label,disable:e.reachedEnd,onClick:t[0]||(t[0]=t=>e.$emit("click"))},{loading:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o.Wm)(i,{color:"accent",size:"sm"})])])),_:1},8,["loading","label","disable"])])),_:1})])}const r=(0,o.aZ)({name:"BaseButtonLoadMore",emits:["click"],props:{loadingMore:{type:Boolean,required:!0},reachedEnd:{type:Boolean,default:!1},label:{type:String,default:"load more"}}});var s=l(11639),i=l(50926),u=l(67236),d=l(24455),h=l(10786),c=l(69984),p=l.n(c);const g=(0,s.Z)(r,[["render",a],["__scopeId","data-v-52f50b69"]]),y=g;p()(r,"components",{QSeparator:i.Z,QBtnGroup:u.Z,QBtn:d.Z,QSpinnerOrbit:h.Z})},33353:(e,t,l)=>{"use strict";l.d(t,{Z:()=>pe});l(40702);var o=l(59835);const n={style:{border:"1px solid var(--q-accent)","border-radius":".5rem"}},a=(0,o._)("span",{class:"full-width text-bold"},"learn about Nostr",-1),r=(0,o._)("p",null,[(0,o.Uk)(" the "),(0,o._)("a",{href:"https://github.com/fiatjaf/nostr",target:"_blank",rel:"noopener noreferrer"},"Nostr"),(0,o.Uk)(" protocol is a decentralized and censorship resistant distributed information network that relies on clients and relays. relays store user data. clients communicate with the relays to save and fetch said user data. ")],-1),s=(0,o._)("ul",null,[(0,o._)("li",null,"users choose which relays to store their data on, meaning no one centralized entity has the power to remove your data from the network (so it is recommended to use multiple relays)"),(0,o._)("li",null,"users choose which clients to use, meaning no one centralized website can stop you from accessing the network"),(0,o._)("li",null,"any client can be used with any relay, meaning users can choose their relays and client independently")],-1),i=(0,o._)("p",null,[(0,o.Uk)(" astral is a client for Nostr. while astral is implementing a social media usecase of Nostr, the possibilities of Nostr are endless. "),(0,o._)("a",{href:"https://jesterui.github.io/#/game/jester1y7du0yq7uzfzhxr2xgd64lmchfpf54evjsa59ff4f2mgh83h79rs9k7ffq",target:"_blank",rel:"noopener noreferrer"},"Jester"),(0,o.Uk)(" is a beta peer to peer chess client implemented over Nostr. ")],-1),u=(0,o._)("div",{style:{"max-height":"0","border-top":"1px solid var(--q-accent)"}},null,-1),d=(0,o._)("span",{class:"full-width text-bold"},"do I need a key?",-1),h=(0,o._)("p",null," if you would just like to look around you do not need a key pair, simply close this dialog popup. however, if you want to post or save your profile and follows you will need to create a key pair if you don't have one already. ",-1),c=(0,o.Uk)(" if you decide to just look around and want to login at a later time hit the set user "),p=(0,o.Uk)(" button in the user menu. "),g=(0,o._)("div",{style:{"max-height":"0","border-top":"1px solid var(--q-accent)"}},null,-1),y=(0,o._)("span",{class:"full-width text-bold"},"what is a key pair?",-1),f=(0,o.Uk)(" in order to participate in the Nostr network you will need to a public key and private key pair. this key pair can be used in any Nostr client to login. "),m=(0,o.Uk)("public key"),_=(0,o.Uk)(" publicly known unique ID associated with your user on the Nostr network. can be shared freely. others can see your posts or follow you using only your public key. "),k=(0,o.Uk)("private key"),w=(0,o._)("strong",null,"KEEP THIS SECRET!",-1),b=(0,o.Uk)(" secret key used to sign for (or unlock) your public key. all content from your user public key will need a signature derived from your private key before being relayed. if a bad actor discovers your private key they can impersonate you on Nostr network and see your encrypted dms. "),v=(0,o._)("p",null,[(0,o.Uk)(" your public key is created from your private key via a one way hash function, meaning: "),(0,o._)("ul",null,[(0,o._)("li",null,"your public key can be calculated from your private key - which is why you only need to enter your private key for astral to know your public key"),(0,o._)("li",null,"your private key cannot be calculated from your public key - which is why you can freely share your public key without compromising your private key")])],-1),x=(0,o._)("p",null," through the magic of cryptograpic functions, this private and public key pair allows you to sign for Nostr events, which could represent a post, profile settings, or follows list, in a cryptographically verifiable manner (similar to how you sign for a bitcoin transaction) ",-1),U=(0,o._)("p",null,[(0,o.Uk)(" you may see your keys displayed in a couple different key formats depending on the Nostr client you use, please don't be alarmed. they both represent the same byte data, they just use different encoding methods to be human readable. the 'npub' (for "),(0,o._)("span",{style:{"text-decoration":"underline"}},"N"),(0,o.Uk)("ostr "),(0,o._)("span",{style:{"text-decoration":"underline"}},"pub"),(0,o.Uk)("lic key) and 'nsec' (for "),(0,o._)("span",{style:{"text-decoration":"underline"}},"N"),(0,o.Uk)("ostr "),(0,o._)("span",{style:{"text-decoration":"underline"}},"sec"),(0,o.Uk)("ret key) format that Damus uses is preferable over the hex format that astral uses because there is a visual indicator preventing the user from mixing up their public and private key. astral will adopt this format in the future. ")],-1),q=(0,o._)("div",{style:{"max-height":"0","border-top":"1px solid var(--q-accent)"}},null,-1),N=(0,o._)("span",{class:"full-width text-bold"},"why shouldn't I enter my private key?",-1),P=(0,o._)("p",null,[(0,o.Uk)(" anytime you enter your private key into any Nostr client, you are trusting that client to: "),(0,o._)("ol",null,[(0,o._)("li",null,"not store your private key"),(0,o._)("li",null,"not have any vulnerabilities that a bad actor can exploit to steal your private key")]),(0,o.Uk)(" while I can promise you that astral does not store your private key (it is stored locally in your browser and is NEVER sent to back to astral) and that I am doing my best to prevent vulnerabilities, it is still recommeneded that you "),(0,o._)("strong",null,"DO NOT TRUST ME"),(0,o.Uk)(". ")],-1),W=(0,o._)("p",null,[(0,o.Uk)(" fortunately, on desktop devices Nostr provides an easy way for you to sign into Nostr clients without ever providing the client with your private key via browser extensions like "),(0,o._)("a",{href:"https://getalby.com/",target:"_blank",rel:"noopener noreferrer"},"getAlby"),(0,o.Uk)(" or "),(0,o._)("a",{href:"https://github.com/fiatjaf/nos2x#install",target:"_blank",rel:"noopener noreferrer"},"nos2x"),(0,o.Uk)(". these browser extensions will store your private key locally in your browser. when the client needs to send an event or decrypt your messages (ie. use your private key), it will employ your browser extension to do the necessary cryptographic functions. see "),(0,o._)("strong",null,"how to get a key pair?"),(0,o.Uk)(" section below for instructions on how to use these browser extensions. ")],-1),I=(0,o._)("p",null," unfortunately, on mobile devices you cannot use browser extensions so it will be necessary to enter your private key for now. this is a known and important issue that is being worked on, and there should be some better solutions for private key management on mobile devices coming soon. ",-1),Z={key:0,style:{"max-height":"0","border-top":"1px solid var(--q-accent)"}},E=(0,o._)("span",{class:"full-width text-bold"},"how do I remove my private key if I already entered it?",-1),S=(0,o._)("p",null," if you are on mobile you will not be able to use the directions below because browser extensions are not supported on mobile devices. if you are on a desktop device please continue. ",-1),C=(0,o._)("ol",null,[(0,o._)("li",null,[(0,o.Uk)("hit the "),(0,o._)("strong",null,"VIEW YOUR KEYS"),(0,o.Uk)(" at the bottom of the settings page and note down your private key")]),(0,o._)("li",null,[(0,o.Uk)("follow the instructions in "),(0,o._)("strong",null,"how to get a key pair?"),(0,o.Uk)(" section below, making sure to enter your private key rather than generating a new one")]),(0,o._)("li",null,[(0,o.Uk)("hit the "),(0,o._)("strong",null,"LOGOUT"),(0,o.Uk)(" at the bottom of the settings page ("),(0,o._)("strong",null,"LOGOUT"),(0,o.Uk)(" will wipe your user data but preserve the existing browser database, "),(0,o._)("strong",null,"DELETE LOCAL DATA"),(0,o.Uk)(" will wipe your user data and the browser database")]),(0,o._)("li",null,[(0,o.Uk)("hit the "),(0,o._)("strong",null,"USE PUBLIC KEY FROM EXTENSION"),(0,o.Uk)(" option that should appear in the key input (if astral doesn't refresh automatically please refresh the page")]),(0,o._)("li",null,[(0,o.Uk)("proceed to "),(0,o._)("strong",null,"how to use astral?"),(0,o.Uk)(" section below")])],-1),D=(0,o._)("div",{style:{"max-height":"0","border-top":"1px solid var(--q-accent)"}},null,-1),F=(0,o._)("span",{class:"full-width text-bold"},"how to get a key pair?",-1),T=(0,o._)("p",null,[(0,o.Uk)(" you can use any method you want to generate your keys, as long as they conform to the "),(0,o._)("a",{href:"https://github.com/nostr-protocol/nips/blob/master/01.md",target:"_blank",rel:"noopener noreferrer"},"Nostr NIP-01"),(0,o.Uk)(" specification. "),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Uk)("if you are on a desktop device the recommeneded option will be using a browser extension like "),(0,o._)("a",{href:"https://getalby.com/",target:"_blank",rel:"noopener noreferrer"},"getAlby"),(0,o.Uk)(" or "),(0,o._)("a",{href:"https://github.com/fiatjaf/nos2x#install",target:"_blank",rel:"noopener noreferrer"},"nos2x"),(0,o.Uk)(". (see "),(0,o._)("strong",null,"why shouldn't I enter my private key?"),(0,o.Uk)(" section above)")]),(0,o._)("li",null,"if you are on a mobile device the easiest option will be using astral"),(0,o._)("li",null,"if you are a technical user who is concerned about key generation security you can try the local option")])],-1),$=(0,o._)("p",null,[(0,o.Uk)(" **if you already have a key pair and just want to enter it into a browser extension, follow the instructions in the applicable sub-section below but enter your private key instead of hitting 'generate' (with nos2x make sure to hit save afterword). "),(0,o._)("strong",null,"if your existing private key begins with 'nsec' you will need to convert it to hex format"),(0,o.Uk)(" before saving it in the browser extensions, which can be done "),(0,o._)("a",{href:"https://damus.io/key/",target:"_blank",rel:"noopener noreferrer"},"here"),(0,o.Uk)(".** ")],-1),M=(0,o._)("p",null," choose your key generation method: ",-1),j={style:{border:"1px solid var(--q-accent)","border-radius":".5rem"}},z=(0,o._)("span",{class:"full-width text-bold"},"use astral",-1),B=(0,o._)("ol",null,[(0,o._)("li",null,[(0,o.Uk)("hit "),(0,o._)("strong",null,"GENERATE KEYS"),(0,o.Uk)(" button below in the key input")]),(0,o._)("li",null,[(0,o.Uk)("proceed to "),(0,o._)("strong",null,"how to use astral?"),(0,o.Uk)(" section below")])],-1),O=(0,o._)("div",{style:{"max-height":"0","border-top":"1px solid var(--q-accent)"}},null,-1),Q=(0,o._)("div",{class:"full-width"},[(0,o._)("span",{class:"text-bold"},"use getAlby "),(0,o._)("span",null,"longer setup than nos2x but is password protected, comes with a lightning wallet and is better maintained")],-1),A=(0,o._)("ol",null,[(0,o._)("li",null,[(0,o.Uk)("install "),(0,o._)("a",{href:"https://getalby.com/",target:"_blank",rel:"noopener noreferrer"},"getAlby"),(0,o.Uk)(" browser extension")]),(0,o._)("li",null,[(0,o.Uk)("complete alby setup (when it asks "),(0,o._)("strong",null,"Do you have a lightning wallet?"),(0,o.Uk)(" just hit "),(0,o._)("strong",null,"Alby Wallet"),(0,o.Uk)(" if you do not have one)")]),(0,o._)("li",null,"open the getAlby extension options page (usually in dropdown when clicking on extension's icon at the top of your broswer)"),(0,o._)("li",null,[(0,o.Uk)("hit the "),(0,o._)("strong",null,"Settings"),(0,o.Uk)(" tab")]),(0,o._)("li",null,[(0,o.Uk)("scroll down to the "),(0,o._)("strong",null,"Nostr"),(0,o.Uk)(" section and hit "),(0,o._)("strong",null,"Generate"),(0,o.Uk)(" (or if you already have a private key enter it)")]),(0,o._)("li",null,[(0,o.Uk)("refresh astral.ninja page and hit the "),(0,o._)("strong",null,"USE PUBLIC KEY FROM EXTENSION"),(0,o.Uk)(" option that should appear in the key input")]),(0,o._)("li",null,[(0,o.Uk)("proceed to "),(0,o._)("strong",null,"how to use astral?"),(0,o.Uk)(" section below")])],-1),R=(0,o._)("div",{style:{"max-height":"0","border-top":"1px solid var(--q-accent)"}},null,-1),K=(0,o._)("span",{class:"full-width text-bold"},"use nos2x",-1),L=(0,o._)("ol",null,[(0,o._)("li",null,[(0,o.Uk)("install "),(0,o._)("a",{href:"https://github.com/fiatjaf/nos2x#install",target:"_blank",rel:"noopener noreferrer"},"nos2x"),(0,o.Uk)(" browser extension")]),(0,o._)("li",null,"open the nos2x extension options page (usually in dropdown when clicking on extension's icon at the top of your broswer)"),(0,o._)("li",null,[(0,o.Uk)("hit "),(0,o._)("strong",null,"generate"),(0,o.Uk)(" button (or if you already have a private key enter it and hit "),(0,o._)("strong",null,"save"),(0,o.Uk)(")")]),(0,o._)("li",null,[(0,o.Uk)("refresh astral.ninja page and hit the "),(0,o._)("strong",null,"USE PUBLIC KEY FROM EXTENSION"),(0,o.Uk)(" option that should appear in the key input")]),(0,o._)("li",null,[(0,o.Uk)("proceed to "),(0,o._)("strong",null,"how to use astral?"),(0,o.Uk)(" section below")])],-1),Y=(0,o._)("div",{style:{"max-height":"0","border-top":"1px solid var(--q-accent)"}},null,-1),V=(0,o._)("span",{class:"full-width text-bold"},"use local machine",-1),H=(0,o._)("ol",null,[(0,o._)("li",null,"open terminal"),(0,o._)("li",null,[(0,o.Uk)("enter the command "),(0,o._)("pre",null,"openssl rand -hex 32")]),(0,o._)("li",null,[(0,o.Uk)("proceed to "),(0,o._)("strong",null,"how to use astral?"),(0,o.Uk)(" section below")])],-1),G=(0,o._)("div",{style:{"max-height":"0","border-top":"1px solid var(--q-accent)"}},null,-1),X=(0,o._)("span",{class:"full-width text-bold"},"how to use astral?",-1),J=(0,o._)("ol",null,[(0,o._)("li",null,[(0,o._)("strong",null,"enter your key"),(0,o.Uk)(" if you don't have a key pair, or you have a key pair that you want to enter into a Nostr browser extension, see "),(0,o._)("strong",null,"how to get a key pair?"),(0,o.Uk)(" section above. ")]),(0,o._)("li",null,[(0,o._)("strong",null,"choose bootstrap relays (optional)"),(0,o.Uk)(" this section will only appear once a valid key has been entered. if you are using a brand new key you don't need to worry about this. if you are using an existing key and don't typically use any of the selected relays, make sure to include a relay you typically use or astral may not be able to find your user. the bootstrap relays are NOT used as your user's relay list, astral only uses these to find your user's information and settings when loading your Nostr account. ")]),(0,o._)("li",null,[(0,o._)("strong",null,"hit PROCEED"),(0,o.Uk)(" astral will login and attempt to find your user information. please be patient as it can take a few minutes to completely sync with Nostr relays. ")]),(0,o._)("li",null,[(0,o._)("strong",null,"BACK UP YOUR KEYS!!!"),(0,o.Uk)(" once you are taken to the settings page you should get a popup displaying your Nostr keys. make sure to make a backup of your Nostr keys and keep it somewhere safe. if you lose your Nostr keys you lose access to your Nostr user identity. there is no astral customer service to reset your password. ")]),(0,o._)("li",null,[(0,o._)("strong",null,"edit settings"),(0,o.Uk)(" hit the "),(0,o._)("strong",null,"EDIT"),(0,o.Uk)(" button for which ever section you would like to edit. "),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o._)("strong",null,"profile"),(0,o.Uk)(" saving this section will broadcast your updated user profile to the Nostr relays (if you have never set your relays on Nostr, astral will use astral's default relay list to set and broadcast your set Nostr relays at the same time). all fields in the profile are completely optional, you don't need to set a profile at all to use Nostr. "),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o._)("strong",null,"name"),(0,o.Uk)(" non-unique username that will be displayed accross Nostr")]),(0,o._)("li",null,[(0,o._)("strong",null,"about"),(0,o.Uk)(" share a little about yourself")]),(0,o._)("li",null,[(0,o._)("strong",null,"picture"),(0,o.Uk)(" image url for the picture you would like displayed as your Nostr profile picture")]),(0,o._)("li",null,[(0,o._)("strong",null,"NIP-05 Identifier"),(0,o.Uk)(" meant to be a unique, human readable identifier for Nostr (read more "),(0,o._)("a",{href:"https://github.com/nostr-protocol/nips/blob/master/05.md",target:"_blank",rel:"noopener noreferrer"},"here"),(0,o.Uk)(") ")])])]),(0,o._)("li",null,[(0,o._)("strong",null,"preferences"),(0,o.Uk)(" saving this section will update the look of astral for this browser. this section is not synced to Nostr.")]),(0,o._)("li",null,[(0,o._)("strong",null,"relays"),(0,o.Uk)(" saving this section will broadcast your updated relay list to the Nostr relays.")])])])],-1);function ee(e,t,l,ee,te,le){const oe=(0,o.up)("q-card-section"),ne=(0,o.up)("q-expansion-item"),ae=(0,o.up)("q-icon"),re=(0,o.up)("q-item-label"),se=(0,o.up)("q-item-section"),ie=(0,o.up)("q-item"),ue=(0,o.up)("q-list");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"info",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[a])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[r,s,i])),_:1})])),_:1}),u,(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"info",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[d])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[h,(0,o._)("p",null,[c,(0,o.Wm)(ae,{name:"login"}),p])])),_:1})])),_:1}),g,(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"info",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[y])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[f,(0,o.Wm)(ue,{bordered:"",padding:"",class:"q-mt-sm q-mb-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(ie,null,{default:(0,o.w5)((()=>[(0,o.Wm)(se,null,{default:(0,o.w5)((()=>[(0,o.Wm)(re,null,{default:(0,o.w5)((()=>[m])),_:1}),(0,o.Wm)(re,{caption:""},{default:(0,o.w5)((()=>[_])),_:1})])),_:1})])),_:1}),(0,o.Wm)(ie,null,{default:(0,o.w5)((()=>[(0,o.Wm)(se,null,{default:(0,o.w5)((()=>[(0,o.Wm)(re,null,{default:(0,o.w5)((()=>[k])),_:1}),(0,o.Wm)(re,{caption:""},{default:(0,o.w5)((()=>[w,b])),_:1})])),_:1})])),_:1})])),_:1}),v,x,U])),_:1})])),_:1}),q,(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"info",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[N])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[P,W,I])),_:1})])),_:1}),e.$store.state.keys.priv?((0,o.wg)(),(0,o.iD)("div",Z)):(0,o.kq)("",!0),e.$store.state.keys.priv?((0,o.wg)(),(0,o.j4)(ne,{key:1,dense:"","dense-toggle":"",group:"info",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[E])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[S,C])),_:1})])),_:1})):(0,o.kq)("",!0),D,(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"info",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[F])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[T,$,M,(0,o._)("div",j,[(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"generateKeys",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[z])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[B])),_:1})])),_:1}),O,(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"generateKeys",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[Q])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[A])),_:1})])),_:1}),R,(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"generateKeys",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[K])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[L])),_:1})])),_:1}),Y,(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"generateKeys",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[V])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[H])),_:1})])),_:1})])])),_:1})])),_:1}),G,(0,o.Wm)(ne,{dense:"","dense-toggle":"",group:"info",class:"no-padding full-width","header-class":"items-center"},{header:(0,o.w5)((()=>[X])),default:(0,o.w5)((()=>[(0,o.Wm)(oe,null,{default:(0,o.w5)((()=>[J])),_:1})])),_:1})])}const te=(0,o.aZ)({name:"BaseInformation"});var le=l(11639),oe=l(61123),ne=l(63190),ae=l(22857),re=l(13246),se=l(490),ie=l(76749),ue=l(33115),de=l(69984),he=l.n(de);const ce=(0,le.Z)(te,[["render",ee]]),pe=ce;he()(te,"components",{QExpansionItem:oe.Z,QCardSection:ne.Z,QIcon:ae.Z,QList:re.Z,QItem:se.Z,QItemSection:ie.Z,QItemLabel:ue.Z})},67903:(e,t,l)=>{"use strict";l.d(t,{Z:()=>f});var o=l(59835);const n={class:"base-select"},a={class:"base-select-list",style:{"max-height":"15rem",overflow:"auto",width:"100%",cursor:"pointer"}},r={class:"",style:{"margin-block-start":"0","margin-block-end":"0","padding-inline-start":"0"}},s={class:"base-select-list",style:{"max-height":"15rem",overflow:"auto",width:"100%",cursor:"pointer"}},i={class:"",style:{"margin-block-start":"0","margin-block-end":"0","padding-inline-start":"0"}};function u(e,t,l,u,d,h){return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",a,[(0,o._)("ul",r,[(0,o.WI)(e.$slots,"selected",{},void 0,!0)])]),(0,o._)("div",s,[(0,o._)("ul",i,[(0,o.WI)(e.$slots,"options",{},void 0,!0)])])])}const d=(0,o.aZ)({name:"BaseSelectMultiple",emits:["add","remove"],props:{},methods:{add(e){this.$emit("add",e)},remove(e){this.$emit("remove",e)}}});var h=l(11639),c=l(22857),p=l(69984),g=l.n(p);const y=(0,h.Z)(d,[["render",u],["__scopeId","data-v-7d750e32"]]),f=y;g()(d,"components",{QIcon:c.Z})},99658:(e,t,l)=>{"use strict";l.d(t,{Z:()=>T});l(40702);var o=l(59835),n=l(61957),a=l(86970);const r={class:"fit flex column no-wrap"},s={key:0},i={class:"flex row justify-between no-wrap"},u={class:"text-h6 text-bold q-my-none"},d={key:0},h={class:"text-caption text-bold q-my-none"},c={key:0,class:"flex row justify-between no-wrap"},p={class:"text-h5 text-bold q-my-none"},g={key:0,class:"q-mt-xs q-pl-sm"},y={class:"flex row justify-between items-start"},f={key:1};function m(e,t,l,m,_,k){const w=(0,o.up)("BaseButtonClear"),b=(0,o.up)("q-btn"),v=(0,o.up)("q-input"),x=(0,o.up)("q-form"),U=(0,o.up)("BaseUserCard"),q=(0,o.up)("q-list"),N=(0,o.up)("q-separator"),P=(0,o.up)("q-card-section"),W=(0,o.up)("q-tooltip"),I=(0,o.up)("Draggable");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(P,{class:"q-pa-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{onSubmit:e.searchProfile},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{modelValue:e.searchingProfile,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchingProfile=t),class:"no-padding searchingProfile",outlined:"",label:e.$t("searchProfiles"),dense:"",color:"secondary",hint:e.validSearch?"enter user public key or NIP05 identifier":"INVALID FORMAT! enter user public key or NIP05 identifier","hide-hint":"","hide-bottom-space":"","input-style":e.validSearch?"":"color: #ff0000",loading:e.searching,onClear:t[2]||(t[2]=(0,n.iM)((t=>e.searchingProfile=""),["stop"])),onSubmit:e.searchProfile,onKeypress:(0,n.D2)((0,n.iM)(e.searchProfile,["ctrl"]),["enter"])},{append:(0,o.w5)((()=>[(0,o.Wm)(w,{"button-text":e.searchingProfile,"button-class":"text-secondary",onClear:t[0]||(t[0]=t=>e.searchingProfile="")},null,8,["button-text"]),(0,o.Wm)(b,{"text-color":"secondary",class:"q-pa-xs",icon:"search",type:"submit",unelevated:"",disable:!e.validSearch||e.searching,onClick:e.searchProfile},null,8,["disable","onClick"])])),_:1},8,["modelValue","label","hint","input-style","loading","onSubmit","onKeypress"])])),_:1},8,["onSubmit"]),e.domainMode?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",i,[(0,o._)("h2",u,(0,a.zw)(e.domain)+" "+(0,a.zw)(e.$t("users")),1),(0,o.Wm)(b,{icon:"close",onClick:t[3]||(t[3]=(0,n.iM)((t=>e.domainMode=!1),["stop"]))})]),e.domainDefaultPubkey?((0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("h2",h,(0,a.zw)(e.$t("nip05Maintainer")),1),(0,o.Wm)(U,{pubkey:e.domainDefaultPubkey},null,8,["pubkey"])])):(0,o.kq)("",!0),(0,o.Wm)(q,{class:"q-pt-xs q-pl-sm",style:{"overflow-y":"auto","max-height":"40vh"}},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.domainUsers,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.pubkey},[(0,o.Wm)(U,{pubkey:e.pubkey},null,8,["pubkey"])])))),128))])),_:1}),(0,o.Wm)(N,{color:"accent"})])):(0,o.kq)("",!0)])),_:1}),e.$store.state.keys.pub?((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("h2",p,(0,a.zw)(e.$t("follows")),1),(0,o._)("div",null,[e.reordering?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(b,{key:0,flat:"",icon:"reorder",onClick:(0,n.iM)(e.reorderFollows,["stop"])},{default:(0,o.w5)((()=>[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.$t("reorderFollows")),1)])),_:1})])),_:1},8,["onClick"])),e.reordering?((0,o.wg)(),(0,o.j4)(b,{key:1,flat:"",icon:"close",onClick:(0,n.iM)(e.cancelReorder,["stop"])},{default:(0,o.w5)((()=>[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.$t("cancel")),1)])),_:1})])),_:1},8,["onClick"])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0),e.$store.state.keys.pub?((0,o.wg)(),(0,o.j4)(P,{key:1,class:"no-padding",style:{"overflow-y":"auto"}},{default:(0,o.w5)((()=>[e.$store.state.follows.length?((0,o.wg)(),(0,o.iD)("div",g,[e.reordering?e.reorderedFollows.length?((0,o.wg)(),(0,o.j4)(I,{key:1,modelValue:e.reorderedFollows,"onUpdate:modelValue":t[4]||(t[4]=t=>e.reorderedFollows=t),onStart:t[5]||(t[5]=t=>e.dragging=!0),onEnd:t[6]||(t[6]=t=>e.dragging=!1),"item-key":e.pubkey+"_reordering"},{header:(0,o.w5)((()=>[(0,o._)("div",y,[(0,o._)("span",null,(0,a.zw)(e.$t("dragDropReorder")),1),(0,o.Wm)(b,{outline:"",size:"sm",icon:"save",label:e.$t("save"),color:"secondary",onClick:(0,n.iM)(e.saveReorder,["stop"])},null,8,["label","onClick"])])])),item:(0,o.w5)((({element:e})=>[(0,o.Wm)(U,{pubkey:e.pubkey,"action-buttons":!1},null,8,["pubkey"])])),_:1},8,["modelValue","item-key"])):(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(q,{key:0},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.$store.state.follows,(e=>((0,o.wg)(),(0,o.j4)(U,{pubkey:e,key:e},null,8,["pubkey"])))),128))])),_:1}))])):((0,o.wg)(),(0,o.iD)("div",f,(0,a.zw)(e.$t("noFollows")),1))])),_:1})):(0,o.kq)("",!0)])}var _=l(6827),k=l(98531),w=l.n(k),b=l(74827),v=l(18933),x=l(46973);const U=(0,o.aZ)({name:"TheSearchMenu",mixins:[v.Z],data(){return{searchingProfile:"",searching:!1,domainMode:!1,domainNames:{},reordering:!1,reorderedFollows:[],dragging:!1,profilesUsed:new Set}},components:{BaseButtonClear:x.Z,Draggable:w()},computed:{validSearch(){return""===this.searchingProfile||(!!this.searchingProfile.match(/^[a-f0-9A-F]{64}$/)||(!(!this.isBech32Key(this.searchingProfile)||!this.bech32ToHex(this.searchingProfile).match(/^[a-f0-9A-F]{64}$/))||!!this.searchingProfile.match(/^([a-z0-9A-Z-_.\u00C0-\u1FFF\u2800-\uFFFD]*@)?[a-z0-9A-Z-_]+[.]{1}[a-z0-9A-Z-_.]+$/)))},domainDefaultPubkey(){return this.domainNames._},domainUsers(){let e=Object.keys(this.domainNames).filter((e=>"_"!==e)).map((e=>({name:e,pubkey:this.domainNames[e]})));return e},domain(){let[e,t]=this.searchingProfile.split("@");return t||e}},deactivated(){this.profilesUsed.forEach((e=>this.$store.dispatch("cancelUseProfile",{pubkey:e})))},methods:{async searchProfile(){if(this.validSearch){if(this.searching=!0,this.searchingProfile=this.searchingProfile.trim().toLowerCase(),this.searchingProfile.match(/^[a-f0-9]{64}$/))return this.toProfile(this.searchingProfile),this.searchingProfile="",void(this.searching=!1);if(this.isBech32Key(this.searchingProfile)&&this.bech32ToHex(this.searchingProfile).match(/^[a-f0-9A-F]{64}$/))return this.toProfile(this.bech32ToHex(this.searchingProfile)),this.searchingProfile="",void(this.searching=!1);if(this.searchingProfile.match(/^([a-z0-9-_.\u00C0-\u1FFF\u2800-\uFFFD]*@)?[a-z0-9-_.]+[.]{1}[a-z0-9-_.]+$/)){if((this.searchingProfile.match(/^@/)||!this.searchingProfile.match(/@/))&&(this.domainNames=await(0,b.R)(this.domain),this.domainUsers.length||this.domainDefaultPubkey))return this.domainDefaultPubkey&&this.useProfile(this.domainDefaultPubkey),this.domainUsers.length&&this.domainUsers.forEach((e=>this.useProfile(e.pubkey))),this.searching=!1,void(this.domainMode=!0);console.log("this.domainUsers",this.domainUsers);let e=await(0,b.x)(this.searchingProfile);if(console.log("queryName returned: ",e),e)return this.toProfile(e),this.searchingProfile="",void(this.searching=!1)}this.searching=!1,_.Z.create({message:"No user found! Please enter full public key or NIP05 identifier and double check search string",color:"negative"})}else _.Z.create({message:"Invalid format! Please enter full public key or NIP05 identifier",color:"negative"})},reorderFollows(){this.reorderedFollows=this.$store.state.follows.map((e=>({pubkey:e}))),this.reordering=!0},saveReorder(){this.$store.commit("reorderFollows",this.reorderedFollows.map((e=>e.pubkey))),this.reordering=!1,this.reorderedFollows=[]},cancelReorder(){this.reordering=!1,this.reorderedFollows=[]},useProfile(e){this.profilesUsed.has(e)||(this.profilesUsed.add(e),this.$store.dispatch("useProfile",{pubkey:e}))}}});var q=l(11639),N=l(63190),P=l(8326),W=l(66611),I=l(24455),Z=l(13246),E=l(50926),S=l(46858),C=l(69984),D=l.n(C);const F=(0,q.Z)(U,[["render",m]]),T=F;D()(U,"components",{QCardSection:N.Z,QForm:P.Z,QInput:W.Z,QBtn:I.Z,QList:Z.Z,QSeparator:E.Z,QTooltip:S.Z})},95856:()=>{},52361:()=>{},94616:()=>{}}]);
"use strict";(globalThis["webpackChunkastral"]=globalThis["webpackChunkastral"]||[]).push([[430],{82430:(t,e,s)=>{s.r(e),s.d(e,{default:()=>v});var a=s(59835),n=s(86970);function h(t,e,s,h,i,o){const r=(0,a.up)("BaseHeader"),d=(0,a.up)("BasePostThread"),u=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)("#"+this.$route.params.hashtagId),1)])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.threads,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e[0].id,events:e,onAddEvent:t.processEvent},null,8,["events","onAddEvent"])))),128))])),_:1})}s(40702);var i=s(34136),o=s(18933),r=s(14473),d=s(31020);const u=(0,a.aZ)({name:"Hashtag",mixins:[o.Z,(0,d.Z)((()=>({title:`astral - #${window.location.pathname.split("/")[2]}`,meta:{description:{name:"description",content:`Nostr events tagged with ${window.location.pathname.split("/")[2]}`},keywords:{name:"keywords",content:"nostr decentralized social media"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}})))],data(){return{threads:[],eventsSet:new Set,sub:{}}},watch:{"$route.params.hashtagId"(t,e){this.hashtag=t,t!==e&&t&&e&&(this.stop(),this.start())}},mounted(){this.start()},beforeUnmount(){this.stop()},methods:{async start(){this.threads=[],this.eventsSet=new Set,this.sub.hashtag=await(0,i.dq)("t",this.$route.params.hashtagId.toLowerCase(),1,(t=>{this.processEvent(t)}))},stop(){this.sub.hashtag&&this.sub.hashtag.cancel(),this.sub.oldHashtag&&this.sub.oldHashtag.cancel(),this.threads=[],this.eventsSet=new Set},processEvent(t){this.eventsSet.has(t.id)||(this.interpolateEventMentions(t),this.eventsSet.add(t.id),(0,r.c)(this.threads,t,"",t.pubkey!==this.$store.state.keys.pub))}}});var l=s(11639),c=s(69885),p=s(69984),w=s.n(p);const g=(0,l.Z)(u,[["render",h]]),v=g;w()(u,"components",{QPage:c.Z})}}]);